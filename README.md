# Дипломный проект «Поисковая система»
## Веб-паук с поисковым сервером

### Описание программы:

Это программа, которая объединяет веб-паука (web crawler) и простой поисковый сервер. Веб-паук обходит веб-страницы, индексирует их содержимое и сохраняет данные в базе данных PostgreSQL. Поисковый сервер позволяет выполнять запросы к индексу и получать список релевантных страниц.

### Основные функции:
1. **Веб-паук**: Рекурсивно скачивает страницы, извлекает текстовое содержимое, разбивает его на слова и сохраняет их в базу данных вместе с частотами встречаемости.
2. **Поисковый сервер**: Обрабатывает HTTP-запросы, выполняет поиск по индексу и возвращает список релевантных страниц.

---

## Требования

- **Boost**: Версия 1.70 или выше.
- **PostgreSQL**: Для хранения данных.
- **libpqxx**: Библиотека для работы с PostgreSQL.
- **C++17**: Компилятор, поддерживающий стандарт C++17.

---

## Инструкция по установке и запуску

### 1. Установка зависимостей

Убедитесь, что у вас установлены следующие компоненты:
- Boost: `sudo apt install libboost-all-dev`
- PostgreSQL: `sudo apt install postgresql libpq-dev`
- libpqxx: `sudo apt install libpqxx-dev`

### 2. Создание базы данных

Создайте базу данных PostgreSQL и пользователя:
```bash
sudo -u postgres psql
CREATE DATABASE spider;
CREATE USER spider_user WITH PASSWORD 'password';
GRANT ALL PRIVILEGES ON DATABASE spider TO spider_user;
\q
```

### 3. Настройка конфигурационного файла
```ini
[database]
host=localhost
port=5432
dbname=spider
user=spider_user
password=password

[spider]
start_url=http://example.com
max_depth=2

[server]
port=8080
```
### 4. Компиляция программы
```Bash
g++ -std=c++17 -pthread -o spider_search main.cpp search.cpp spider.cpp -lboost_system -lboost_locale -lpqxx -lpq
```
### 5. Запуск программы
```bash
./spider_search
```

### Использование поискового сервера
1. Запустить программ, дождаться индексации.
2. Откройте браузер и перейдите по адресу http://localhost:8080.
3. Вы увидите форму для ввода поискового запроса.
4. Введите запрос и нажмите "Search".
5. Сервер вернет список ссылок, отсортированных по релевантности.